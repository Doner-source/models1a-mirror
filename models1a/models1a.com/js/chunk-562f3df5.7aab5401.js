(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-562f3df5"],{"28eb":function(t,e,s){"use strict";s.r(e);var n=function(){var t=this,e=t._self._c;return e("div",{ref:"myDiv",staticClass:"sendingForm"},[e("div",{ref:"loadingElement",staticClass:"sendingForm__load loading"},[e("div",{staticClass:"sendingForm__container"},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.infoModel.videoModels&&"videos"===t.currentView.type,expression:"infoModel.videoModels && currentView.type === 'videos'"}],staticClass:"sendingForm__preVideo"},[e("div",{staticClass:"sendingForm__overlay"},[e("iconic",{staticClass:"sendingForm__cameraIcon",attrs:{name:"camera"}})],1),e("video",{staticClass:"sendingForm__video",attrs:{src:t.infoModel.videoModels,playsinline:"","webkit-playsinline":"",autoplay:"",muted:""},domProps:{muted:!0}},[e("track",{attrs:{label:"English",kind:"captions",srclang:"en",src:"",default:""}})])]),e("iconic",{directives:[{name:"show",rawName:"v-show",value:"data"===t.currentView.type,expression:"currentView.type === 'data'"}],staticClass:"sendingForm__icon",attrs:{name:"identity"}}),e("div",{directives:[{name:"show",rawName:"v-show",value:"images"===t.currentView.type,expression:"currentView.type === 'images'"}],staticClass:"sendingForm__photos"},t._l(t.infoModel.photos,(function(t,s){return e("img",{key:s,staticClass:"sendingForm__img",attrs:{src:t,alt:"preview"}})})),0),e("p",{staticClass:"sendingForm__currentText"},[t._v(t._s(t.truncatedText))])],1)]),e("div",{staticClass:"sendingForm__article"},[e("p",{staticClass:"sendingForm__tittle"},[t._v(t._s(t.infoModel.name)+" "+t._s(t.dataProgress.wait))]),e("p",{staticClass:"sendingForm__subTittle"},[t._v(t._s(t.dataProgress.charging))])])])},i=[],o=s("b646"),a=s("4360"),r={props:["statusModal","infoModel","lisentUploadFiles"],data(){return{progress:{percentage:0,type:"data"},form:null,btns:null,header:null,sendingData:{}}},computed:{currentView(){const t=this.progress.percentage>=90&&this.progress.percentage<100,e=t?"wait":this.progress.type;return"wait"===e&&this.onLastPosition(),this.statusPreview.find(({type:t})=>t===e)||this.statusPreview.find(({type:t})=>"data"===t)},statusPreview(){const t="Sending...",{personal:e,photos:s,video:n,finish:i}=this.sendingData;return[{text:e||t,type:"data"},{text:s||t,type:"images"},{text:n||t,type:"videos"},{text:i||t,type:"wait"}]},dataProgress(){const{wait:t="",charging:e=""}=this.sendingData;return{wait:t,charging:e}},truncatedText(){return this.currentView.text.length>40?this.currentView.text.substring(0,40)+"...":this.currentView.text}},methods:{preventUnload(t){t.preventDefault()},onLastPosition(){this.$refs.loadingElement.classList.remove("modified")},onProgressFiles(){o["a"].on("progressFiles",({totalProgress:t,file:e={}})=>{const{categorie:s}=e;this.progress.percentage=t,this.progress.type=s,this.lisentUploadFiles(t)})},calculateHeight(){const t=this.$refs.myDiv,e=t.getBoundingClientRect(),s=e.bottom;window.scrollTo({top:window.scrollY+s,behavior:"smooth"})},async initData(){const t=await a["a"].getters.localeLang;this.sendingData=(null===t||void 0===t?void 0:t.sending)||{}}},async mounted(){window.addEventListener("beforeunload",this.preventUnload),await this.initData(),this.onProgressFiles(),this.$nextTick(()=>{this.$refs.loadingElement.classList.add("modified"),this.calculateHeight()})},beforeDestroy(){window.removeEventListener("beforeunload",this.preventUnload)}},c=r,l=(s("62a7"),s("2877")),d=Object(l["a"])(c,n,i,!1,null,null,null);e["default"]=d.exports},"62a7":function(t,e,s){"use strict";s("c32f")},b646:function(t,e,s){"use strict";var n=s("daa8");class i{constructor(t){if(i.instance)return i.instance;this.socket=null,this.host=t.host,this.path=t.path,this.reconnectInterval=null,i.instance=this}connect({query:t,auth:e}){return this.socket||(this.socket=Object(n["a"])(this.host,{transports:["websocket","polling"],reconnection:!0,reconnectionAttempts:20,reconnectionDelay:1e4,reconnectionDelayMax:6e4,randomizationFactor:.5,path:this.path,auth:e,query:t}),this.socket.on("connect",()=>{console.log("Conectado al servidor"),this.startReconnectCheck()}),this.socket.on("disconnect",t=>{console.warn("Desconectado: "+t),this.stopIntervals()}),this.socket.on("error",t=>{console.error("Error de conexiÃ³n:",t)})),this.socket}disconnect(){this.socket&&(this.socket.disconnect(),this.stopIntervals())}startReconnectCheck(){this.reconnectInterval||(this.reconnectInterval=setInterval(()=>{this.socket.connected||this.socket.connecting||(console.warn("Intentando reconectar..."),this.socket.connect())},6e4))}stopIntervals(){this.reconnectInterval&&(clearInterval(this.reconnectInterval),this.reconnectInterval=null)}on(t,e){this.socket&&this.socket.on(t,e)}getSocket(){return this.socket}}var o=i;const a="https://userregistration.models1a.com/landingSocket",r={host:a,path:"/api/v1/socket.io"};class c extends o{constructor(t){super(t)}}e["a"]=new c(r)},c32f:function(t,e,s){}}]);
//# sourceMappingURL=chunk-562f3df5.7aab5401.js.map