(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-edb63aae","chunk-15bd3b4d","chunk-e0705454"],{"0e09":function(e,t,s){},"1cb36":function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e._self._c;return e.$user?t("div",{staticClass:"user-menu"},[t("div",{staticClass:"user-menu-bgwrap",on:{click:e.toggleMenu}}),t("div",{staticClass:"user-menu-content"},[t("div",{staticClass:"user-menu-card"},[t("div",{staticClass:"user-menu-card-avatar",attrs:{fcenter:""}},[t("Avatar",{class:["user-menu__avatar",e.isPicture(e.$user)?"borderImageMedium":""],attrs:{user:e.$user}})],1),t("div",{staticClass:"user-menu-card-header"},[t("div",{staticClass:"user-menu-card-header-name"},[t("p",{staticClass:"user-menu-card-header-name-username"},[e._v(e._s("model"===e.$user.role?e.$user.artisticName:e.$user.user))])]),t("div",{staticClass:"user-menu-card-header-role"},[t("p",{staticClass:"user-menu-card-header-role-title"},[e._v(e._s(e.dicUserRoles[e.$user.role]))])]),"model"!==e.$user.role?t("div",{staticClass:"user-menu-card-header-email"},[t("iconic",{staticClass:"email-icon",attrs:{name:"email"}}),t("p",{staticClass:"user-menu-card-header-email-title"},[e._v(e._s(e.$user.email))])],1):e._e()]),t("div",{staticClass:"user-menu-card-buttons"},[t("div",{staticClass:"user-menu-card-buttons-button",on:{click:e.profile}},[t("iconic",{attrs:{name:"userInput"}}),t("p",{staticClass:"user-menu-card-buttons-button-title"},[e._v("Ver perfil")])],1),e.validateShowIpSecure?t("div",{staticClass:"user-menu-card-buttons-button",on:{click:e.openLocations}},[t("iconic",{attrs:{name:"sede"}}),t("p",{staticClass:"user-menu-card-buttons-button-title"},[e._v("Abrir sedes")])],1):e._e()]),t("div",{staticClass:"user-menu-card-divider"}),t("div",{staticClass:"user-menu-card-option"},[t("div",{staticClass:"user-menu-card-option-button",on:{click:e.closeApp}})])])])]):e._e()},n=[],r=(s("14d9"),s("d8d7")),i=s("3d20"),o=s.n(i),c=s("e9db"),l=s.n(c),u={components:{Avatar:()=>s.e("chunk-fea472fe").then(s.bind(null,"13ee"))},props:{user:Object},data(){return{dicUserRoles:{employee:"empleado",superadmin:"superadmin",coordinator:"coordinador",monitor:"monitor",model:"modelo"}}},computed:{validateSite(){return!1},validateShowIpSecure(){var e;const t=null===(e=this.$user.rolesApp)||void 0===e?void 0:e.ipsecure;return(null===t||void 0===t?void 0:t.length)&&this.validateSite}},methods:{toggleMenu:function(){const e=document.querySelector(".user-menu");e.classList.toggle("active")},isPicture:function(e){return e&&e.picture},openLocations:async function(){try{const e={baseURL:Object({NODE_ENV:"production",VUE_APP_KEY_NAME:"website",VUE_APP_MODE:"prod",VUE_APP_HOST:"https://models1a.com",VUE_APP_API_HOST:"https://models1a.com/api/v1/",VUE_APP_API_HOST_SERVICE:"https://userregistration.models1a.com/api/v1/",VUE_APP_SOCKET:"https://models1a.com",VUE_APP_SOCKET_SERVICE:"https://userregistration.models1a.com",VUE_APP_TOKEN_NAME:"authorization",VUE_APP_API_ADMIN:"https://administration.models1a.com/api/v1/",VUE_APP_SESSION_API:"https://sessions.models1a.com/api/v1",VUE_APP_SITE_KEY_RECAPTCHA:"6Le4VMspAAAAADuusPWbiOnXwez_RtCxXgu2xVi2",VUE_APP_GOOGLE_API_KEY:"AIzaSyBPZV9u1uAO5zD1OjPd3fOjqVTjIYb20Ds",VUE_APP_CF_SITE_KEY:"0x4AAAAAAAy7Il79CScXTFjp",VUE_APP_PUBLIC_API_KEY_JWT:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0eXBlIjoiYXBpLWtleSIsInJvbGUiOiJwdWJsaWMtcmVnaXN0ZXIiLCJwdXJwb3NlIjoiZm9ybS1zaWdudXAiLCJpYXQiOjE3NDY0NjUxOTcsImV4cCI6MTc0NzA2OTk5N30.-Jao3WUrKVwMPZh5kdd6o6MVwMaIEx-4bImU24A61D4",BASE_URL:"/"}).VUE_APP_IPSECURE_API,tokenName:"authorization"},{status:t}=await l.a.instance(e).get("command"),s={isSuccess:200===t,message:200===t?"Se desbloquea acceso a todas las sedes.":"Error desbloqueando sedes."};this.openSuccess(s)}catch(e){console.error("error",e)}},profile(){this.toggleMenu();const e=Object(r["getHost"])(),t="/account";if(this.validateSite)return void this.$router.push(t);const s=this.$user.SSID,a=`${e}/auth/?sstk=${s}&redirect=${t}`;location.href=a},closeApp(){const e=Object(r["getHost"])();this.toggleMenu(),"website"!==Object(r["getMain"])().key&&localStorage.removeItem("authorization"),location.href=`${e}/logout/?user=${this.$user._id}&sstk=${this.$user.SSID}`},openSuccess:function(e,t){const s=o.a.fire({icon:e.isSuccess?"success":"error",text:e.message,confirmButtonColor:"#bd0909"});s.then(e=>{t&&t()})}}},d=u,p=(s("a7a7"),s("2877")),h=Object(p["a"])(d,a,n,!1,null,null,null);t["default"]=h.exports},"222e":function(e,t,s){"use strict";s("2eaa")},2266:function(e,t,s){var a=s("0366"),n=s("c65b"),r=s("825a"),i=s("0d51"),o=s("e95a"),c=s("07fa"),l=s("3a9b"),u=s("9a1f"),d=s("35a1"),p=s("2a62"),h=TypeError,f=function(e,t){this.stopped=e,this.result=t},m=f.prototype;e.exports=function(e,t,s){var v,g,b,w,A,_,S,y=s&&s.that,k=!(!s||!s.AS_ENTRIES),C=!(!s||!s.IS_RECORD),E=!(!s||!s.IS_ITERATOR),M=!(!s||!s.INTERRUPTED),I=a(t,y),O=function(e){return v&&p(v,"normal",e),new f(!0,e)},x=function(e){return k?(r(e),M?I(e[0],e[1],O):I(e[0],e[1])):M?I(e,O):I(e)};if(C)v=e.iterator;else if(E)v=e;else{if(g=d(e),!g)throw h(i(e)+" is not iterable");if(o(g)){for(b=0,w=c(e);w>b;b++)if(A=x(e[b]),A&&l(m,A))return A;return new f(!1)}v=u(e,g)}_=C?e.next:v.next;while(!(S=n(_,v)).done){try{A=x(S.value)}catch(T){p(v,"throw",T)}if("object"==typeof A&&A&&l(m,A))return A}return new f(!1)}},"27f8":function(e,t,s){},"2a62":function(e,t,s){var a=s("c65b"),n=s("825a"),r=s("dc4a");e.exports=function(e,t,s){var i,o;n(e);try{if(i=r(e,"return"),!i){if("throw"===t)throw s;return s}i=a(i,e)}catch(c){o=!0,i=c}if("throw"===t)throw s;if(o)throw i;return n(i),s}},"2d2a":function(e,t,s){"use strict";s("6148")},"2eaa":function(e,t,s){},"2fd1":function(e,t,s){e.exports=s.p+"img/MySpaceBrand.467a9489.svg"},"35a1":function(e,t,s){var a=s("f5df"),n=s("dc4a"),r=s("3f8c"),i=s("b622"),o=i("iterator");e.exports=function(e){if(void 0!=e)return n(e,o)||n(e,"@@iterator")||r[a(e)]}},"3b7d":function(e,t,s){},"3f8c":function(e,t){e.exports={}},"483c":function(e,t,s){"use strict";s("0e09")},"4e0e":function(e,t,s){"use strict";s.r(t),s.d(t,"alerts",(function(){return r}));var a=s("3d20"),n=s.n(a);const r={dataSendConfirm:function({title:e,message:t,buttonTextYes:s,buttonTextNo:a}={}){return n.a.fire({title:e||"¿Está seguro?",text:t||"Sus datos serán enviados",icon:"question",showCancelButton:!0,confirmButtonColor:"#bd0909",cancelButtonColor:"##515151",confirmButtonText:s||"Si, enviar",cancelButtonText:a||"No, cancelar"})},dataSending:function({title:e,message:t}={}){n.a.fire({title:e||"Enviando",text:t||"Los datos se están enviando y procesando",timerProgressBar:!0,allowOutsideClick:!1,didOpen:()=>{n.a.showLoading()}})},dataSendError:function({title:e,message:t,buttonText:s}={}){n.a.close(),n.a.fire({title:e||"Error",html:t||"Error enviando los datos",icon:"error",timerProgressBar:!0,confirmButtonColor:"#bd0909"})},dataSendSuccess:function({title:e,message:t,buttonText:s}={}){n.a.close(),n.a.fire({title:e||"Completado",text:t||"Haz enviado tus datos exitosamente, pronto te contactaremos",icon:"success",confirmButtonText:s||"Aceptar",timerProgressBar:!0,confirmButtonColor:"#bd0909"})},dataInfo:function({title:e,message:t,buttonText:s}={}){n.a.close(),n.a.fire({title:e||"",text:t||"",icon:"info",confirmButtonText:s||"Aceptar",timerProgressBar:!0,confirmButtonColor:"#bd0909"})}};t["default"]=r},6069:function(e,t,s){var a=s("6c59"),n=s("605d");e.exports=!a&&!n&&"object"==typeof window&&"object"==typeof document},6148:function(e,t,s){},"68ee":function(e,t,s){var a=s("e330"),n=s("d039"),r=s("1626"),i=s("f5df"),o=s("d066"),c=s("8925"),l=function(){},u=[],d=o("Reflect","construct"),p=/^\s*(?:class|function)\b/,h=a(p.exec),f=!p.exec(l),m=function(e){if(!r(e))return!1;try{return d(l,u,e),!0}catch(t){return!1}},v=function(e){if(!r(e))return!1;switch(i(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return f||!!h(p,c(e))}catch(t){return!0}};v.sham=!0,e.exports=!d||n((function(){var e;return m(m.call)||!m(Object)||!m((function(){e=!0}))||e}))?v:m},"6c59":function(e,t){e.exports="object"==typeof Deno&&Deno&&"object"==typeof Deno.version},"734a":function(e,t,s){},"7cc8":function(e,t,s){"use strict";s("a68c")},8418:function(e,t,s){"use strict";var a=s("a04b"),n=s("9bf2"),r=s("5c6c");e.exports=function(e,t,s){var i=a(t);i in e?n.f(e,i,r(0,s)):e[i]=s}},8980:function(e,t,s){},"9a1f":function(e,t,s){var a=s("c65b"),n=s("59ed"),r=s("825a"),i=s("0d51"),o=s("35a1"),c=TypeError;e.exports=function(e,t){var s=arguments.length<2?o(e):t;if(n(s))return r(a(s,e));throw c(i(e)+" is not iterable")}},a68c:function(e,t,s){},a7a7:function(e,t,s){"use strict";s("f705")},ad1f:function(e,t,s){var a=s("c430"),n=s("23e7"),r=s("da84"),i=s("d066"),o=s("e330"),c=s("d039"),l=s("90e3"),u=s("1626"),d=s("68ee"),p=s("861d"),h=s("d9b5"),f=s("2266"),m=s("825a"),v=s("f5df"),g=s("1a2d"),b=s("8418"),w=s("9112"),A=s("07fa"),_=s("d6d6"),S=s("90d8"),y=s("b980"),k=s("2d00"),C=s("6069"),E=s("6c59"),M=s("605d"),I=r.Object,O=r.Date,x=r.Error,T=r.EvalError,P=r.RangeError,R=r.ReferenceError,$=r.SyntaxError,D=r.TypeError,V=r.URIError,B=r.PerformanceMark,N=r.WebAssembly,U=N&&N.CompileError||x,L=N&&N.LinkError||x,j=N&&N.RuntimeError||x,z=i("DOMException"),H=i("Set"),W=i("Map"),q=W.prototype,J=o(q.has),F=o(q.get),X=o(q.set),G=o(H.prototype.add),K=i("Object","keys"),Y=o([].push),Q=o((!0).valueOf),Z=o(1..valueOf),ee=o("".valueOf),te=o(O.prototype.getTime),se=l("structuredClone"),ae="DataCloneError",ne="Transferring",re=function(e){return!c((function(){var t=new r.Set([7]),s=e(t),a=e(I(7));return s==t||!s.has(7)||"object"!=typeof a||7!=a}))&&e},ie=function(e,t){return!c((function(){var s=new t,a=e({a:s,b:s});return!(a&&a.a===a.b&&a.a instanceof t&&a.a.stack===s.stack)}))},oe=function(e){return!c((function(){var t=e(new r.AggregateError([1],se,{cause:3}));return"AggregateError"!=t.name||1!=t.errors[0]||t.message!=se||3!=t.cause}))},ce=r.structuredClone,le=a||!ie(ce,x)||!ie(ce,z)||!oe(ce),ue=!ce&&re((function(e){return new B(se,{detail:e}).detail})),de=re(ce)||ue,pe=function(e){throw new z("Uncloneable type: "+e,ae)},he=function(e,t){throw new z((t||"Cloning")+" of "+e+" cannot be properly polyfilled in this engine",ae)},fe=function(e,t){if(h(e)&&pe("Symbol"),!p(e))return e;if(t){if(J(t,e))return F(t,e)}else t=new W;var s,a,n,o,c,l,f,m,_,k,C=v(e),E=!1;switch(C){case"Array":n=[],E=!0;break;case"Object":n={},E=!0;break;case"Map":n=new W,E=!0;break;case"Set":n=new H,E=!0;break;case"RegExp":n=new RegExp(e.source,S(e));break;case"Error":switch(a=e.name,a){case"AggregateError":n=i("AggregateError")([]);break;case"EvalError":n=T();break;case"RangeError":n=P();break;case"ReferenceError":n=R();break;case"SyntaxError":n=$();break;case"TypeError":n=D();break;case"URIError":n=V();break;case"CompileError":n=U();break;case"LinkError":n=L();break;case"RuntimeError":n=j();break;default:n=x()}E=!0;break;case"DOMException":n=new z(e.message,e.name),E=!0;break;case"DataView":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"BigInt64Array":case"BigUint64Array":s=r[C],p(s)||he(C),n=new s(fe(e.buffer,t),e.byteOffset,"DataView"===C?e.byteLength:e.length);break;case"DOMQuad":try{n=new DOMQuad(fe(e.p1,t),fe(e.p2,t),fe(e.p3,t),fe(e.p4,t))}catch(M){de?n=de(e):he(C)}break;case"FileList":if(s=r.DataTransfer,d(s)){for(o=new s,c=0,l=A(e);c<l;c++)o.items.add(fe(e[c],t));n=o.files}else de?n=de(e):he(C);break;case"ImageData":try{n=new ImageData(fe(e.data,t),e.width,e.height,{colorSpace:e.colorSpace})}catch(M){de?n=de(e):he(C)}break;default:if(de)n=de(e);else switch(C){case"BigInt":n=I(e.valueOf());break;case"Boolean":n=I(Q(e));break;case"Number":n=I(Z(e));break;case"String":n=I(ee(e));break;case"Date":n=new O(te(e));break;case"ArrayBuffer":s=r.DataView,s||"function"==typeof e.slice||he(C);try{if("function"==typeof e.slice)n=e.slice(0);else for(l=e.byteLength,n=new ArrayBuffer(l),_=new s(e),k=new s(n),c=0;c<l;c++)k.setUint8(c,_.getUint8(c))}catch(M){throw new z("ArrayBuffer is detached",ae)}break;case"SharedArrayBuffer":n=e;break;case"Blob":try{n=e.slice(0,e.size,e.type)}catch(M){he(C)}break;case"DOMPoint":case"DOMPointReadOnly":s=r[C];try{n=s.fromPoint?s.fromPoint(e):new s(e.x,e.y,e.z,e.w)}catch(M){he(C)}break;case"DOMRect":case"DOMRectReadOnly":s=r[C];try{n=s.fromRect?s.fromRect(e):new s(e.x,e.y,e.width,e.height)}catch(M){he(C)}break;case"DOMMatrix":case"DOMMatrixReadOnly":s=r[C];try{n=s.fromMatrix?s.fromMatrix(e):new s(e)}catch(M){he(C)}break;case"AudioData":case"VideoFrame":u(e.clone)||he(C);try{n=e.clone()}catch(M){pe(C)}break;case"File":try{n=new File([e],e.name,e)}catch(M){he(C)}break;case"CryptoKey":case"GPUCompilationMessage":case"GPUCompilationInfo":case"ImageBitmap":case"RTCCertificate":case"WebAssembly.Module":he(C);default:pe(C)}}if(X(t,e,n),E)switch(C){case"Array":case"Object":for(f=K(e),c=0,l=A(f);c<l;c++)m=f[c],b(n,m,fe(e[m],t));break;case"Map":e.forEach((function(e,s){X(n,fe(s,t),fe(e,t))}));break;case"Set":e.forEach((function(e){G(n,fe(e,t))}));break;case"Error":w(n,"message",fe(e.message,t)),g(e,"cause")&&w(n,"cause",fe(e.cause,t)),"AggregateError"==a&&(n.errors=fe(e.errors,t));case"DOMException":y&&w(n,"stack",fe(e.stack,t))}return n},me=ce&&!c((function(){if(E&&k>92||M&&k>94||C&&k>97)return!1;var e=new ArrayBuffer(8),t=ce(e,{transfer:[e]});return 0!=e.byteLength||8!=t.byteLength})),ve=function(e,t){if(!p(e))throw D("Transfer option cannot be converted to a sequence");var s=[];f(e,(function(e){Y(s,m(e))}));var a,n,i,o,c,l,h,g=0,b=A(s);if(me){o=ce(s,{transfer:s});while(g<b)X(t,s[g],o[g++])}else while(g<b){if(a=s[g++],J(t,a))throw new z("Duplicate transferable",ae);switch(n=v(a),n){case"ImageBitmap":i=r.OffscreenCanvas,d(i)||he(n,ne);try{l=new i(a.width,a.height),h=l.getContext("bitmaprenderer"),h.transferFromImageBitmap(a),c=l.transferToImageBitmap()}catch(w){}break;case"AudioData":case"VideoFrame":u(a.clone)&&u(a.close)||he(n,ne);try{c=a.clone(),a.close()}catch(w){}break;case"ArrayBuffer":case"MessagePort":case"OffscreenCanvas":case"ReadableStream":case"TransformStream":case"WritableStream":he(n,ne)}if(void 0===c)throw new z("This object cannot be transferred: "+n,ae);X(t,a,c)}};n({global:!0,enumerable:!0,sham:!me,forced:le},{structuredClone:function(e){var t,s=_(arguments.length,1)>1&&null!=arguments[1]?m(arguments[1]):void 0,a=s?s.transfer:void 0;return void 0!==a&&(t=new W,ve(a,t)),fe(e,t)}})},c296:function(e,t,s){"use strict";s("8980")},c323:function(e,t,s){"use strict";t["a"]={watchScrolling:function(){window.removeEventListener("scroll",this.isScrolling),window.addEventListener("scroll",this.isScrolling)},isScrolling:function({srcElement:e}){const t=64,{scrollTop:s,offsetHeight:a,scrollHeight:n}=e.documentElement,r=s+a+t>=n;if(r){let e=document.querySelectorAll(".click-on-bottom");[].forEach.call(e,(function(e){e&&e.click()}))}},isBottomScroll:function({srcElement:e,offsetGap:t=0},s){const{scrollTop:a,offsetHeight:n,scrollHeight:r}=e,i=a+n+t>=r;i&&s&&s(e)},isTopScroll:function({srcElement:e,offsetGap:t=0},s){const{scrollTop:a}=e;a<=t&&s&&s(e)}}},cb4f:function(e,t,s){"use strict";s("3b7d")},d6d6:function(e,t){var s=TypeError;e.exports=function(e,t){if(e<t)throw s("Not enough arguments");return e}},d824:function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e._self._c;return t("div",e._b({staticClass:"page-admin"},"div",e.getAllData,!1),[e.locale?t("div",{staticClass:"page-admin-container"},[t("div",{staticClass:"page-admin-header",attrs:{sticky:"",noprint:""}},[t("div",{staticClass:"page-admin-header-content"},[t("div",{staticClass:"page-admin-header-left"},[t("div",{staticClass:"page-admin-header-search"},[t("div",{staticClass:"page-admin-title"},[t("h1",[e._v(e._s(e.seccion))])]),t("AdminSearch",{staticClass:"search",attrs:{locale:e.locale,search:e.search,searching:e.searching,leaveSearch:e.leaveSearch,autoSearch:e.autoSearch,enterSearch:e.enterSearch,searchTotal:e.searchTotal,searchPage:e.searchPage},on:{clickResult:e.clickSearchResult}})],1)]),t("Header",{attrs:{brand:e.brand,menus:e.menu}},[e.user?t("div",{staticClass:"page-admin-header-user"},[t("div",{staticClass:"page-admin-header-user-button --apps",on:{click:()=>e.changeShowMenuApps(!0)}},[t("iconic",{attrs:{name:"apps"}})],1),e.user.roles.includes("super")?t("router-link",{staticClass:"page-admin-header-user-button",attrs:{to:"/admin/log/?type=allActivity"}},[t("i",{staticClass:"fa fa-history"})]):e._e(),t("div",{staticClass:"avatar",on:{click:e.$refs.myUserMenu.toggleMenu}},[t("figure",{class:[e.user.picture?"border":""],style:`background-image: url(${e.user.picture});`},[e.user.picture?e._e():t("span",[e._v(e._s(e.user.name.charAt(0)))])])])],1):e._e()]),e.widthViewport?t("Navbar",{attrs:{menus:e.menu,showName:!0}}):e._e()],1)]),t("div",{staticClass:"page-admin-container",class:{loading:e.loading}},[t("div",{staticClass:"page-admin-container-main",attrs:{docprint:""}},[t("router-view",{attrs:{data:this.data,user:e.user}})],1)])]):e._e(),t("UserMenu",{ref:"myUserMenu",attrs:{user:e.user,noprint:""}}),t("ModelsRecord",{ref:"myRecord",attrs:{noprint:""}}),t("TemplateModalApps",{attrs:{isVisible:e.showMenuApps,closeM:()=>e.changeShowMenuApps(!1)}})],1)},n=[],r=(s("14d9"),s("365c")),i=s("4360"),o=s("1cb36"),c=s("786b"),l=function(){var e=this,t=e._self._c;return t("div",{staticClass:"admin-search"},[t("div",{staticClass:"form"},[t("div",{staticClass:"overlay",on:{click:e.leaveSearch}}),t("input",{attrs:{type:"search",name:"search",placeholder:"Buscar",autocomplete:"off"},on:{keyup:e.autoSearch,mouseup:e.enterSearch}}),e.search&&e.search.length?t("div",{staticClass:"admin-search-result results",on:{scroll:e.scrolling}},[e._l(e.search,(function(s,a){return t("div",{key:a,staticClass:"item",on:{click:function(t){return e.clickResult(s)}}},[t("div",[e._v(e._s(s.name))]),t("div",{attrs:{dcolor:""}},[t("small",[e._v(e._s(e.locale.words[s.adminStatus]))])])])})),t("div",{staticClass:"admin-search-paginate"},[e.hasMore?t("div",[t("iconic",{attrs:{name:"gspinner"}})],1):e._e()])],2):e._e()])])},u=[],d=s("c323"),p={props:["locale","leaveSearch","autoSearch","enterSearch","search","searching","searchTotal","searchPage"],data:function(){return{endBuffer:!1}},methods:{clickResult:function(e){this.$emit("clickResult",e)},scrolling:function(e){d["a"].isBottomScroll(e,async()=>{!this.endBuffer&&this.hasMore&&(this.endBuffer=!0,await this.autoSearch({page:this.searchPage+1}),this.endBuffer=!1)})}},computed:{hasMore:function(){return this.searchTotal>this.search.length}}},h=p,f=(s("f2c4"),s("2877")),m=Object(f["a"])(h,l,u,!1,null,"623a0990",null),v=m.exports,g=s("69f1");class b extends g["a"]{async connectToSessionsManager(e){const t="authorization",s=localStorage.getItem(t),{_id:a="",SSID:n=""}=e,r="https://sessions.models1a.com/api/v1".split("api/v")[0],i={path:"/api/v1/socket",auth:{[t]:s},serverUrl:r,query:`_id=${a}&SSID=${n}`};if(await this.connect(i),this.socket.connected)return this.socket}}var w=b,A=s("3df7");const _=6e5,S=async()=>{const e=localStorage.getItem("authorization");if(e)try{await A["a"].get("/session/validsession")}catch(t){console.log("Error al actualizar la sesión",t)}},y=()=>{setInterval(S,_)};var k=y,C=function(){var e=this,t=e._self._c;return t("header",{staticClass:"newHeader"},[t("HeaderBrand",{attrs:{brand:e.brand,to:e.firstRoute}}),e.screenWidth?t("Navbar",{ref:"navbar",attrs:{menus:e.menus,desktop:e.screenWidth,showName:!0}}):e._e(),e._t("default")],2)},E=[],M=function(){var e=this,t=e._self._c;return t("nav",{staticClass:"navegation"},[e.moreViewsDesktop?t("div",{staticClass:"navegation__overlay",on:{click:e.closeModalViewOptions}}):e._e(),t("ul",{ref:"navegationList",staticClass:"navegation__list"},e._l(e.itemsByTypeShow.menusShow,(function(s){return t("ListItem",{key:s.name,attrs:{item:s,showName:e.showName},on:{toggle:e.openOptions}})})),1),e.screenWidth>=768?t("ul",{staticClass:"navegation__listMore",class:{showModalOptions:e.moreViewsDesktop}},e._l(e.itemsByTypeShow.menusHidden,(function(s){return t("ListItem",{key:s.name,attrs:{item:s,showName:e.showName},on:{toggle:e.openOptions}})})),1):e._e()])},I=[],O=(s("b7ef"),s("ad1f"),function(){var e=this,t=e._self._c;return t("div",{class:["itemMenu",e.item.isActive&&"itemMenu--active"],on:{click:e.execMethod}},[t("iconic",{staticClass:"itemMenu__icon",attrs:{name:e.item.icon}}),e.showName?t("span",{staticClass:"itemMenu__name"},[e._v(e._s(e.item.name))]):e._e(),e.showNew?t("div",{staticClass:"itemMenu__new"},[t("span",{staticClass:"itemMenu__new--text"},[e._v("NEW")])]):e._e()],1)}),x=[],T={props:["item","showName"],computed:{showNew(){var e;return"New"===(null===(e=this.item)||void 0===e?void 0:e.state)}},methods:{openOptions(){this.$emit("toggle",this.item)},execMethod(){if("mas"===this.item.to)return this.openOptions();this.$router.push(this.item.to)}}},P=T,R=(s("cb4f"),Object(f["a"])(P,O,x,!1,null,null,null)),$=R.exports,D={props:["showName","desktop","menus"],components:{ListItem:$},data(){return{navegationList:null,moreViewsDesktop:!1,availableSpace:0}},computed:{menusWithActive(){const e=this.$route,{meta:t}=e;return this.handleScreenResize(),this.menus.map(e=>{var s;return e.isActive=e.id===(null===t||void 0===t||null===(s=t.menuActive)||void 0===s?void 0:s.id),e})},getItemsCanShow(){if(this.moreViewsDesktop&&!this.desktop)return this.menus.length;const e=2,t=6,s=Math.floor(this.availableSpace/100),a=e>s,n=t<s;return a?e:n?t:s},itemsByTypeShow(){const e=structuredClone(this.menusWithActive),t=this.moveActiveMenu(e,this.getItemsCanShow),s=t.splice(this.getItemsCanShow);return this.verifyRequireShowMore({menusShow:t,menusHidden:s}),{menusShow:t,menusHidden:s}},screenWidth(){return this.$store.state.screen.width}},watch:{$route(){this.closeModalViewOptions()}},methods:{verifyRequireShowMore({menusShow:e=[],menusHidden:t=[]}){const s=t.length,a=1===s;s&&e.length&&(a?e.push(t[0]):e.push({name:"Ver más",to:"mas",icon:"plusOptions"}))},moveActiveMenu(e,t){const s=e.findIndex(({isActive:e})=>e);if(-1===s)return e;if(s+1>t){const[a]=e.splice(s,1);e.splice(t-1,0,a)}return e},openOptions(){this.moreViewsDesktop=!this.moreViewsDesktop},closeModalViewOptions(){this.moreViewsDesktop=!1},handleScreenResize(){var e;const t=(null===(e=this.$refs)||void 0===e||null===(e=e.navegationList)||void 0===e?void 0:e.offsetWidth)||60;this.availableSpace=t-60||0,this.closeModalViewOptions()}},mounted(){this.$nextTick(()=>{this.handleScreenResize(),setTimeout(this.handleScreenResize,600)}),window.addEventListener("resize",this.handleScreenResize)},beforeDestroy(){window.removeEventListener("resize",this.handleScreenResize)}},V=D,B=(s("f56f"),Object(f["a"])(V,M,I,!1,null,null,null)),N=B.exports,U=function(){var e=this,t=e._self._c;return t("section",{staticClass:"headerBrand",on:{click:e.navigateTo}},[t("img",{staticClass:"headerBrand__icon",attrs:{src:s("2fd1")}})])},L=[],j={props:["to"],methods:{navigateTo(){this.$router.push(this.to).catch(()=>{})}}},z=j,H=(s("7cc8"),Object(f["a"])(z,U,L,!1,null,null,null)),W=H.exports,q={components:{Navbar:N,HeaderBrand:W},props:["brand","menus"],data(){return{navbar:null}},computed:{screenWidth(){return this.$store.state.screen.width>=768},firstRoute(){var e;return null===(e=this.menus[0])||void 0===e?void 0:e.to}}},J=q,F=(s("fe58"),Object(f["a"])(J,C,E,!1,null,null,null)),X=F.exports,G=s("9008"),K=function(){var e=this,t=e._self._c;return t("TemplateModalApps",{attrs:{isVisible:e.isVisible},on:{closeM:e.closeM}},[t("ShowAppsModal")],1)},Y=[],Q=function(){var e=this,t=e._self._c;return t("div",{class:["modalCard",e.isVisible&&"modalCard--show"]},[e.isVisible?t("div",{staticClass:"modalCard__overlay",on:{click:e.closeModal}}):e._e(),e._t("default")],2)},Z=[],ee={props:["isVisible"],methods:{closeModal(){this.$emit("closeM")}}},te=ee,se=(s("222e"),Object(f["a"])(te,Q,Z,!1,null,null,null)),ae=se.exports,ne=function(){var e=this,t=e._self._c;return t("section",{staticClass:"availableApps"},[t("div",{staticClass:"availableApps__go"},[t("div",{class:["availableApps__container",!e.showWiki&&"availableApps__container--alone"],on:{click:e.goToStart}},[t("iconic",{staticClass:"availableApps__icon",attrs:{name:"home"}}),t("p",{staticClass:"availableApps__text"},[e._v("Home")])],1),e.showWiki?t("div",{staticClass:"availableApps__container",on:{click:e.openWikiInNewTab}},[t("iconic",{staticClass:"availableApps__icon",attrs:{name:"supportIcon"}}),t("p",{staticClass:"availableApps__text"},[e._v("Wiki")])],1):e._e()]),t("div",{staticClass:"availableApps__line"}),t("AppsAvailable")],1)},re=[],ie=s("d8d7"),oe=s("f297"),ce=s("2f62"),le={components:{AppsAvailable:oe["default"]},computed:{...Object(ce["c"])("user",{getProfile:"getProfile"}),isMainApp(){return!1},showWiki(){return this.isMainApp&&this.getProfile&&"model"!==this.getProfile.role}},methods:{...Object(ce["b"])("applications",["setShowApps"]),goToStart(){window.scrollTo(0,0);const e=Object(ie["getHost"])(),t="/apps";if(this.isMainApp)return this.$router.push(t),void this.setShowApps();const s=this.$user.SSID,a=`${e}/auth/?sstk=${s}&redirect=${t}`;this.setShowApps(),location.href=a},openWikiInNewTab(){window.open("https://wiki.models1a.com","_blank","noopener")}}},ue=le,de=(s("483c"),Object(f["a"])(ue,ne,re,!1,null,null,null)),pe=de.exports,he={components:{TemplateModalApps:ae,ShowAppsModal:pe},props:["isVisible","closeM"]},fe=he,me=Object(f["a"])(fe,K,Y,!1,null,null,null),ve=me.exports,ge={components:{UserMenu:o["default"],ModelsRecord:c["a"],AdminSearch:v,Header:X,Navbar:N,TemplateModalApps:ve},metaInfo:{title:"Models1A - Admin panel"},data(){return{loading:null,locale:null,data:null,search:null,searchQuery:null,searching:!1,searchTotal:0,searchPage:1,socketSessionInstance:null,showMenuApps:!1}},computed:{getAllData:async function(){await this.getdataLang()},user(){return this.$store.state.userProfile},menu(){return G["a"].menu},brand(){return G["a"].brand},seccion(){const{filter:e}=this.$route.query,t={all:"Estadísticas",new:"Nuevos",selected:"Seleccionadas",admitted:"Admitidas",hired:"Contratadas",approved:"Aprobados",noassistence:"No asistió",pending:"Pendientes",disapproved:"No Aprobados",noselected:"No seleccionadas",waiting:"En espera",noadmitted:"No admitidas",deserter:"Desertoras",waiver:"Renuncias",endContract:"Cancelación de contrato",users:"Usuarios"};return t[e]||""},widthViewport(){return this.$store.state.screen.width<768}},methods:{changeShowMenuApps(e){this.showMenuApps=e},getStatistics:async function(){this.loading=!0;let e=this.$route.fullPath.split("/?");const t="https://models1a.com/api/v1/admin/?"+e[1];let s=await r["a"].get(t);this.data=s.data,this.$root.$emit("newStatistics",this.data),this.loading=!1},getdataLang:async function(){this.locale=await i["a"].getters["localeLang"]},filterInfo:function(e){this.$root.$emit("filterInfo",e)},enterSearch:function(){const e=document.querySelector(".page-admin-header"),t=document.querySelector("body");e.classList.add("searching"),t.classList.add("onmodal")},leaveSearch:function(){const e=document.querySelector(".page-admin-header"),t=document.querySelector("body");e.classList.remove("searching"),t.classList.remove("onmodal")},autoSearch:async function(e={}){this.searching=!0;let[t,s]=[null,Number(e.page)||1];event.srcElement.value?(this.searchPage=1,this.searchQuery=event.srcElement.value):this.searchPage=s;const a=await r["a"].get(`https://models1a.com/api/v1/admin/models/search?q=${this.searchQuery}&page=${this.searchPage}`);1===Number(s)?(this.search=a.data.models,this.searchTotal=a.data.total):this.search.push(...a.data.models),this.searching=!1},clickSearchResult:function(e){this.$refs.myRecord.modelView({action:"openload",id:e._id}),this.leaveSearch()},async initilizeSocketSessions(){const e=new w;this.socketSessionInstance=await e.connectToSessionsManager(this.user),this.socketSessionInstance.connected&&(this.socketSessionInstance.on("verifyConnection",()=>{this.socketSessionInstance.emit("isAvailable")}),this.socketSessionInstance.on("expiredSession",()=>{this.$store.dispatch("user/logoutClient"),window.location.href="/sesionwrong"}))}},async mounted(){k();try{await this.getStatistics()}catch(e){console.log(e)}this.$root.$on("updateStatics",async e=>{await this.getStatistics()}),this.socketSessionInstance||await this.initilizeSocketSessions()}},be=ge,we=(s("c296"),Object(f["a"])(be,a,n,!1,null,null,null));t["default"]=we.exports},d8d7:function(e,t,s){const a=s("0340"),{getSession:n}=s("8669"),r=s("e9db"),{alerts:i}=s("4e0e");e.exports={getMain:function(){const t=e.exports;return t.getApp("autologin")},getHost:function(t){const s=e.exports;t||(t=s.getMain().link);const a=new URL(t);return a.origin},getApp:function(e){const t=a.apps_icons.find(t=>t.key===e);return t},getAppLink:function(e){const t=a.apps_icons.find(t=>t.key===e);return t?t.link:null},getApps:function(){return a.apps_icons},getAuthLnk:function(t){var s;const a=e.exports,r=a.getApp(t),i=null===(s=n())||void 0===s?void 0:s.SSID,o=a.getHost(r.link);return`${o}/auth/?sstk=${i}&app=${r.key}`},openOutApp:(e,t,s,a)=>{if(a)return void parent.postMessage({message:"openApp",data:{app:e,auth:t,sstk:s}},"*");const n=window.open(t,"_blank");n.location.href=t,n.focus()},goToApp:async(t,s,a,n,r,o)=>{const c=e.exports,l=await c.verifyAppRequireIp(t,s,a);if(!l)return void i.dataInfo({title:"Lo sentimos no se encuentra en ninguna de nuestras sedes",message:"Una vez te encuentres ubicado en alguna de nuestras sedes podrás acceder sin problema",icon:"info",iconColor:"#bd0909",confirmButtonColor:"#bd0909"});if(t.key===n)return void(window.location=o||"/main");const u=c.getHost(t.link),d=s.SSID;let p=`${u}/auth/?sstk=${d}&app=${t.key}`;o&&(p+="&redirect="+o),t.out?c.openOutApp(t,p,d,r):(localStorage.removeItem(a),location.href=p)},verifyAppRequireIp:async(t,s,a)=>{try{localStorage.removeItem("ipAllowed");const n=()=>localStorage.setItem("ipAllowed",!0);if(null===t||void 0===t||!t.ipLimit)return!0;if("superadmin"===s.role)return n(),!0;const i=e.exports,o=i.getMain(),c={baseURL:o.api,tokenName:a},{data:l}=await r.instance(c).get("/location"),u=(null===l||void 0===l?void 0:l.isAllowed)||!1;return u&&n(),u}catch(n){console.log("verifyAppRequireIp: "+n.message)}}}},e95a:function(e,t,s){var a=s("b622"),n=s("3f8c"),r=a("iterator"),i=Array.prototype;e.exports=function(e){return void 0!==e&&(n.Array===e||i[r]===e)}},e9db:function(e,t,s){const a=s("bc3a");class n{constructor(){this.timeout=1e4,this.headers={"Content-Type":"application/json"}}getAuthToken(e){if(e)return localStorage.getItem(e)}instance(e){const{baseURL:t,timeout:s,headers:n={},tokenName:r}=e,i=a.create({baseURL:t,timeout:s||this.timeout,headers:{...n,...this.headers}});return i.interceptors.request.use(e=>{const t=this.getAuthToken(r);return t&&(e.headers["Authorization"]=""+t),e},e=>(console.error("Request error:",e),Promise.reject(e))),i}}e.exports=new n},f0f4:function(e,t,s){},f297:function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e._self._c;return t("div",{staticClass:"appsContainer"},e._l(e.apps,(function(s){return t("App",{key:s.key,attrs:{app:s,showname:!0},nativeOn:{click:function(t){return e.goToOtherApp(s)}}})})),1)},n=[],r=s("d8d7"),i={components:{App:()=>s.e("chunk-6ceecfd8").then(s.bind(null,"e2e3"))},computed:{apps(){const e="website",t=Object(r["getApps"])();return t.filter(t=>{const s=t.key!==e,a=this.allowApp(t);return s&&a})}},methods:{async goToOtherApp(e){const t="authorization",s="website",a=this.$store.state.isDesktopApp;await Object(r["goToApp"])(e,this.$user,t,s,a)},allowApp(e){return!(!this.$user||!this.$user.apps)&&(this.$user.apps.includes("all")||this.$user.apps.includes(e.key))}}},o=i,c=(s("2d2a"),s("2877")),l=Object(c["a"])(o,a,n,!1,null,null,null);t["default"]=l.exports},f2c4:function(e,t,s){"use strict";s("734a")},f56f:function(e,t,s){"use strict";s("27f8")},f705:function(e,t,s){},fe58:function(e,t,s){"use strict";s("f0f4")}}]);
//# sourceMappingURL=chunk-edb63aae.cb76da3e.js.map