(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-640b1a7b"],{"58b9":function(t,s,a){"use strict";a("a1b5")},6538:function(t,s,a){"use strict";a.r(s);var i=function(){var t=this,s=t._self._c;return s("div",{staticClass:"photo-gallery"},[s("div",{staticClass:"photos-list relative",class:{loading:t.loading}},[this.filtered&&"all"!==this.filter?s("div",{staticClass:"photos-list-title"},[s("span",{attrs:{dcolor:""}},[t._v(t._s(this.filtered))]),s("span",[this.rmbtn?s("router-link",{attrs:{to:"/gallery#gallery"}},[s("span",{attrs:{bold:""}},[t._v(t._s(this.rmbtn))])]):t._e()],1)]):t._e(),s("div",{staticClass:"main"},[t.photos?s("div",{staticClass:"photos-list-container"},[s("div",{staticClass:"photos-list-container-wrap"},[t._l(t.photos,(function(a,i){return s("div",{key:i,staticClass:"photos-list-container-photo"},[s("div",{staticClass:"photos-list-container-photo-wrap"},[s("img",{attrs:{src:t.urlCloudFront(a.pictureLink),alt:a.alt},on:{click:function(s){return t.photoView({action:"open",idx:i})}}})])])})),t.morepage?s("div",{staticClass:"load-more-block relative",class:{loading:t.loading}},[t.loading?t.loading?s("div",{staticClass:"onScrollLoading preventStayOnBottom"}):t._e():s("div",{staticClass:"load-more-block-content"},[s("button",{staticClass:"click-on-bottom",on:{click:t.getMorePhotos}},[t._v("Ver mas")])])]):t._e()],2)]):t._e()])]),t.visor?s("div",{staticClass:"photo-gallery-visor"},[s("VueSlickCarousel",t._b({staticClass:"carrousel centered",on:{afterChange:t.checkIfLastSlide}},"VueSlickCarousel",t.settings,!1),t._l(t.photos,(function(a,i){return s("div",{key:i,staticClass:"photo-gallery-visor-img",attrs:{prevent:""}},[s("div",{staticClass:"photo-gallery-visor-img-title"},[t._v(t._s(a.alt))]),s("img",{staticClass:"animated-fast fadeIn",attrs:{src:t.urlCloudFront(a.pictureLink),alt:a.alt,prevent:""}})])})),0),s("a",{staticClass:"photo-gallery-visor-close-btn pointer",on:{click:function(s){return t.photoView({action:"close"})}}},[s("i",{staticClass:"fa fa-times"})])],1):t._e()])},e=[],o=(a("14d9"),a("fc8c")),l=a("365c"),r=a("a7ab"),n=a.n(r),c=a("2f62"),h={components:{VueSlickCarousel:n.a},data:function(){return{photosList:[],galleryData:null,cpage:1,morepage:!1,loading:!0,visor:null,filtered:null,rmbtn:null,settings:{arrows:!0,dots:!1,slidesToShow:1,mobileFirst:!0,infinite:!0,initialSlide:0,responsive:[{breakpoint:768,settings:{arrows:!1}}]}}},metaInfo:function(){const t="https://models1a.com/gallery";return{link:[{vmid:"canonical",rel:"canonical",href:t}]}},computed:{...Object(c["c"])("gallery",["dataGallery"]),lang(){return localStorage.getItem("user-language")||"es"},photos(){return this.photosList||[]},filter(){const{filter:t=""}=this.$route.query;if(t)return t;const s=this.$route.params.albumName;if(s&&this.galleryData&&this.galleryData.categories){const t=this.galleryData.categories.find(t=>{const a=t.hashtagText["es"],i=this.sanitizeAlbumName(a);return i===s});return t?t._id:""}return""},query(){let t="page="+this.cpage;return this.filter&&(t+="&filter="+this.filter),t}},watch:{async filter(){this.cpage=1;const t=await this.getPhotos();this.photosList=t},async $route(){this.cpage=1;const t=await this.getPhotos();this.photosList=t},async galleryData(){if(this.galleryData&&this.$route.params.albumName){this.cpage=1;const t=await this.getPhotos();this.photosList=t}}},methods:{sanitizeAlbumName(t){return Object(o["a"])(t)},urlCloudFront(t){return this.$global.newUrl(t)},getPhotos:async function(){const{data:t}=await l["a"].get("https://models1a.com/api/v1/gallery?"+this.query),{pictures:s,filtered:a,isMorePages:i,remFilter:e}=t;return this.filtered=a?a.hashtagText[this.lang]:null,this.morepage=i,this.rmbtn=e,this.loading=!1,(null===s||void 0===s?void 0:s.picturesAlbum)||[]},async loadGalleryData(){try{const{data:t}=await l["a"].get("https://models1a.com/api/v1/gallery");this.galleryData=t}catch(t){console.log("Error loading gallery data:",t)}},async getMorePhotos(){this.cpage+=1;const t=await this.getPhotos();this.photosList.push(...t)},async checkIfLastSlide(t){t===this.photosList.length-2&&this.morepage&&(await this.getMorePhotos(t),this.settings.initialSlide=t)},photoView({action:t,idx:s}){const a=document.querySelector("body"),i="open"===t;i&&(this.settings.initialSlide=s,setTimeout((function(){const t=document.querySelector(".photo-gallery-visor .slick-slide");null===t||void 0===t||t.focus()}),100)),a.classList[i?"add":"remove"]("onphoto"),this.visor=i}},async beforeMount(){await this.loadGalleryData(),this.photosList=await this.getPhotos()}},u=h,g=(a("58b9"),a("2877")),p=Object(g["a"])(u,i,e,!1,null,null,null);s["default"]=p.exports},a1b5:function(t,s,a){},fc8c:function(t,s,a){"use strict";a.d(s,"a",(function(){return i}));const i=t=>t.toLowerCase().replace(/\s+/g,"-").replace(/[^a-z0-9áéíóúñü\-]/g,"").replace(/--+/g,"-").replace(/(^-)|(-$)/g,"")}}]);
//# sourceMappingURL=chunk-640b1a7b.da77215e.js.map