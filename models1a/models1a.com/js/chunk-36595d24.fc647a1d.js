(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-36595d24"],{"3aa9":function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t._self._c;return t.user&&t.user.roles.includes("super")?e("div",{staticClass:"AdminActivity"},[e("section",{key:t.resetSelect,staticClass:"ActivityFilter"},[e("div",{staticClass:"ActivityFilter__item",on:{click:function(e){return t.$refs.myDatePicker.togglePicker()}}},[e("button",{staticClass:"ActivityFilter__btn"},[e("span",{domProps:{innerHTML:t._s("Fecha")}}),this.$route.query.dateFrom?e("span",{domProps:{innerHTML:t._s(` : ${this.$route.query.dateFrom} - ${this.$route.query.dateTo}`)}}):t._e()])]),e("div",{staticClass:"ActivityFilter__item"},[e("select",{staticClass:"ActivityFilter__btn",attrs:{name:"branch"},on:{change:t.setFilter}},[e("option",{attrs:{value:"allcity"}},[t._v("Todas las ciudades")]),e("option",{attrs:{value:"medellin"}},[t._v("Medellín")]),e("option",{attrs:{value:"pereira"}},[t._v("Pereira")]),e("option",{attrs:{value:"cucuta"}},[t._v("Cúcuta")]),e("option",{attrs:{value:"bogota"}},[t._v("Bogotá")]),e("option",{attrs:{value:"other"}},[t._v("Otras ciudades")])])]),e("div",{staticClass:"ActivityFilter__item"},[e("select",{staticClass:"ActivityFilter__btn",attrs:{name:"type"},on:{change:t.setFilter}},[e("option",{attrs:{value:"all"}},[t._v("Todos los estados")]),e("option",{attrs:{value:"approved"}},[t._v("Aprobadas")]),e("option",{attrs:{value:"pending"}},[t._v("Pendientes")]),e("option",{attrs:{value:"disapproved"}},[t._v("No aprobadas")]),e("option",{attrs:{value:"selected"}},[t._v("Seleccionadas")]),e("option",{attrs:{value:"noselected"}},[t._v("No seleccionadas")]),e("option",{attrs:{value:"admitted"}},[t._v("Admitidas")]),e("option",{attrs:{value:"noadmitted"}},[t._v("No admitidas")]),e("option",{attrs:{value:"waiting"}},[t._v("En espera")]),e("option",{attrs:{value:"hired"}},[t._v("Contratadas")]),e("option",{attrs:{value:"deserter"}},[t._v("Desertoras")]),e("option",{attrs:{value:"waiver"}},[t._v("Renuncias")]),e("option",{attrs:{value:"endContract"}},[t._v("Cancelación contrato")])])]),e("div",{staticClass:"ActivityFilter__item"},[e("button",{staticClass:"ActivityFilter__btn",on:{click:function(e){return t.setFilter("reset")}}},[t._v("Quitar filtros")])])]),e("v-md-date-range-picker",{ref:"myDatePicker",attrs:{"start-date":this.$route.query.dateFrom,"end-date":this.$route.query.dateTo},on:{change:t.handleDate}}),e("section",t._b({staticClass:"ActivityList"},"section",t.getActivities,!1),[e("div",{staticClass:"ActivityList__content"},[t._l(t.posts,(function(i,s){return e("div",{key:s,staticClass:"ActivityList__activity"},[e("div",{staticClass:"ActivityList__msg",domProps:{innerHTML:t._s(t.showMsgListActivity(i))}}),e("div",{staticClass:"ActivityList__date"},[t._v(t._s(t.formatDate(i.date)))])])})),t.posts.length<t.total?e("div",{staticClass:"ActivityList__shoMoreContent"},[e("button",{staticClass:"ActivityList__showMore click-on-bottom",on:{click:function(e){t.getPage(t.cpage+=1)}}},[t._v("Ver más")])]):t._e()],2)])],1):t._e()},a=[],o=(i("14d9"),i("a18c")),n=i("365c"),r={data:function(){return{posts:[],page:1,cpage:1,total:null,loading:null,msgAction:{},resetSelect:1,user:null}},computed:{async getActivities(t){t=t>=1?t:1;let e=this.getRequest(t);const{data:i}=await n["a"].get(e);this.posts=i.allActivities,this.total=i.totalActivities}},async mounted(){this.setFilter("reset"),this.user=await this.$store.state.userProfile},methods:{async getPage(t){this.page=t;let e=this.getRequest(this.page);const{data:i}=await n["a"].get(e);this.posts.push(...i.allActivities)},formatDate:function(t){return this.$global.dateLocaleFormat(t)},showMsgListActivity:function(t){this.msgAction=this.$global.dictionary.logActivity;let e=`<strong capitalize>${t.userName}</strong> ${this.msgAction[t.typeActivity]} la modelo <strong>${t.modelName}</strong>`;return e},setFilter:function(t){let e;if(this.cpage=1,"reset"===t)e={path:"/admin/log/?type=allActivity"},this.resetSelect++;else{let i=t.srcElement,s=this.$route.query,a={[i.name]:i.value};e={query:{...s,...a}}}o["a"].push(e).catch(()=>{})},handleDate:function(t,e){this.setFilter({srcElement:{name:"dateFrom",value:e[0]}}),this.setFilter({srcElement:{name:"dateTo",value:e[1]}})},getRequest:function(t){let e=this.$route.fullPath.substring(1);e&&e.includes("#")&&(e=e.split("#")[0]);let i=`https://models1a.com/api/v1/${e}&page=${t}`;return i}}},l=r,c=(i("c675"),i("2877")),u=Object(c["a"])(l,s,a,!1,null,null,null);e["default"]=u.exports},"87b5":function(t,e,i){},c675:function(t,e,i){"use strict";i("87b5")}}]);
//# sourceMappingURL=chunk-36595d24.fc647a1d.js.map