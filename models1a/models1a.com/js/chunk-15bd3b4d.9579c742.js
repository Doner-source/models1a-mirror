(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-15bd3b4d"],{"2d2a":function(t,e,n){"use strict";n("6148")},"4e0e":function(t,e,n){"use strict";n.r(e),n.d(e,"alerts",(function(){return r}));var o=n("3d20"),s=n.n(o);const r={dataSendConfirm:function({title:t,message:e,buttonTextYes:n,buttonTextNo:o}={}){return s.a.fire({title:t||"¿Está seguro?",text:e||"Sus datos serán enviados",icon:"question",showCancelButton:!0,confirmButtonColor:"#bd0909",cancelButtonColor:"##515151",confirmButtonText:n||"Si, enviar",cancelButtonText:o||"No, cancelar"})},dataSending:function({title:t,message:e}={}){s.a.fire({title:t||"Enviando",text:e||"Los datos se están enviando y procesando",timerProgressBar:!0,allowOutsideClick:!1,didOpen:()=>{s.a.showLoading()}})},dataSendError:function({title:t,message:e,buttonText:n}={}){s.a.close(),s.a.fire({title:t||"Error",html:e||"Error enviando los datos",icon:"error",timerProgressBar:!0,confirmButtonColor:"#bd0909"})},dataSendSuccess:function({title:t,message:e,buttonText:n}={}){s.a.close(),s.a.fire({title:t||"Completado",text:e||"Haz enviado tus datos exitosamente, pronto te contactaremos",icon:"success",confirmButtonText:n||"Aceptar",timerProgressBar:!0,confirmButtonColor:"#bd0909"})},dataInfo:function({title:t,message:e,buttonText:n}={}){s.a.close(),s.a.fire({title:t||"",text:e||"",icon:"info",confirmButtonText:n||"Aceptar",timerProgressBar:!0,confirmButtonColor:"#bd0909"})}};e["default"]=r},6148:function(t,e,n){},d8d7:function(t,e,n){const o=n("0340"),{getSession:s}=n("8669"),r=n("e9db"),{alerts:i}=n("4e0e");t.exports={getMain:function(){const e=t.exports;return e.getApp("autologin")},getHost:function(e){const n=t.exports;e||(e=n.getMain().link);const o=new URL(e);return o.origin},getApp:function(t){const e=o.apps_icons.find(e=>e.key===t);return e},getAppLink:function(t){const e=o.apps_icons.find(e=>e.key===t);return e?e.link:null},getApps:function(){return o.apps_icons},getAuthLnk:function(e){var n;const o=t.exports,r=o.getApp(e),i=null===(n=s())||void 0===n?void 0:n.SSID,a=o.getHost(r.link);return`${a}/auth/?sstk=${i}&app=${r.key}`},openOutApp:(t,e,n,o)=>{if(o)return void parent.postMessage({message:"openApp",data:{app:t,auth:e,sstk:n}},"*");const s=window.open(e,"_blank");s.location.href=e,s.focus()},goToApp:async(e,n,o,s,r,a)=>{const c=t.exports,u=await c.verifyAppRequireIp(e,n,o);if(!u)return void i.dataInfo({title:"Lo sentimos no se encuentra en ninguna de nuestras sedes",message:"Una vez te encuentres ubicado en alguna de nuestras sedes podrás acceder sin problema",icon:"info",iconColor:"#bd0909",confirmButtonColor:"#bd0909"});if(e.key===s)return void(window.location=a||"/main");const p=c.getHost(e.link),l=n.SSID;let d=`${p}/auth/?sstk=${l}&app=${e.key}`;a&&(d+="&redirect="+a),e.out?c.openOutApp(e,d,l,r):(localStorage.removeItem(o),location.href=d)},verifyAppRequireIp:async(e,n,o)=>{try{localStorage.removeItem("ipAllowed");const s=()=>localStorage.setItem("ipAllowed",!0);if(null===e||void 0===e||!e.ipLimit)return!0;if("superadmin"===n.role)return s(),!0;const i=t.exports,a=i.getMain(),c={baseURL:a.api,tokenName:o},{data:u}=await r.instance(c).get("/location"),p=(null===u||void 0===u?void 0:u.isAllowed)||!1;return p&&s(),p}catch(s){console.log("verifyAppRequireIp: "+s.message)}}}},e9db:function(t,e,n){const o=n("bc3a");class s{constructor(){this.timeout=1e4,this.headers={"Content-Type":"application/json"}}getAuthToken(t){if(t)return localStorage.getItem(t)}instance(t){const{baseURL:e,timeout:n,headers:s={},tokenName:r}=t,i=o.create({baseURL:e,timeout:n||this.timeout,headers:{...s,...this.headers}});return i.interceptors.request.use(t=>{const e=this.getAuthToken(r);return e&&(t.headers["Authorization"]=""+e),t},t=>(console.error("Request error:",t),Promise.reject(t))),i}}t.exports=new s},f297:function(t,e,n){"use strict";n.r(e);var o=function(){var t=this,e=t._self._c;return e("div",{staticClass:"appsContainer"},t._l(t.apps,(function(n){return e("App",{key:n.key,attrs:{app:n,showname:!0},nativeOn:{click:function(e){return t.goToOtherApp(n)}}})})),1)},s=[],r=n("d8d7"),i={components:{App:()=>n.e("chunk-6ceecfd8").then(n.bind(null,"e2e3"))},computed:{apps(){const t="website",e=Object(r["getApps"])();return e.filter(e=>{const n=e.key!==t,o=this.allowApp(e);return n&&o})}},methods:{async goToOtherApp(t){const e="authorization",n="website",o=this.$store.state.isDesktopApp;await Object(r["goToApp"])(t,this.$user,e,n,o)},allowApp(t){return!(!this.$user||!this.$user.apps)&&(this.$user.apps.includes("all")||this.$user.apps.includes(t.key))}}},a=i,c=(n("2d2a"),n("2877")),u=Object(c["a"])(a,o,s,!1,null,null,null);e["default"]=u.exports}}]);
//# sourceMappingURL=chunk-15bd3b4d.9579c742.js.map