(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2cc7c606"],{"385a":function(t,e,i){},"6e87":function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t._self._c;return e("div",{ref:"label",staticClass:"ModelsReason"},[e("div",[t._v("Tipo:")]),e("div",{staticClass:"ModelsReason__wrapper containerRow"},[t.isEdit?e("Select",{ref:"selectc",staticClass:"selectWaiverEnd selectCustomize",attrs:{name:"typeDecision",options:t.optionsSelect,elementSelect:t.post.typeDecision}}):e("p",{attrs:{bold:""}},[t._v(t._s(t.getTypeDecision(t.post.typeDecision)))]),t.hasEdit?e("div",{staticClass:"containerRow"},[e("button",{class:["buttonSmall",t.isEdit?"save":"edit"],on:{click:function(e){return e.preventDefault(),t.onClick.apply(null,arguments)}}},[e("iconic",{attrs:{name:t.isEdit?"save":"edit"}})],1),t.isEdit?e("button",{staticClass:"buttonSmall cancel",on:{click:function(e){e.preventDefault(),t.isEdit=!1}}},[e("iconic",{attrs:{name:"cancel"}})],1):t._e()]):t._e()],1)])},n=[],a={components:{Select:()=>i.e("chunk-4ea6918a").then(i.bind(null,"70fa")),iconic:()=>Promise.resolve().then(i.bind(null,"851d"))},props:{post:{type:Object},hasEdit:{type:Boolean,default:!0}},data(){return{isEdit:!1,cfilter:this.$route.query.status?this.$route.query.status:this.$route.query.filter}},computed:{optionsSelect:function(){let t;return"waiver"===this.cfilter?t=this.$global.dictionary.waiverReason:"endContract"===this.cfilter&&(t=this.$global.dictionary.endContractReason),Object.keys(t).map(e=>({value:e,text:t[e]}))}},methods:{getTypeDecision:function(t){return"waiver"===this.cfilter?this.$global.dictionary.waiverReason[t]||"Sin definir":"endContract"===this.cfilter?this.$global.dictionary.endContractReason[t]||"Sin definir":void 0},onClick:async function(){if(this.isEdit){var t;const e=this,i=null===(t=this.$refs.selectc)||void 0===t?void 0:t.$el,s="https://models1a.com/api/v1/admin/models/updatemodel",n={modelId:this.post._id,typeDecision:i.value};this.dataSending(),await this.$api.post(s,n).then((function(t){t.data?(e.dataSuccess(t.data),e.$emit("success",t.data)):e.dataError(t.data.message)})).catch((function(t){e.dataError(t)}))}this.isEdit=!this.isEdit},dataSending:function(){const t=this.$refs.label;t&&t.classList.add("loading")},dataSent:function(){const t=this.$refs.label;t&&t.classList.remove("loading")},dataError:function(t){this.dataSent(),this.$swal.fire({title:"Error",html:t||"Error desconocido",icon:"error",confirmButtonText:"Revisar",timerProgressBar:!0,confirmButtonColor:"#bd0909"})},dataSuccess:function(t){this.dataSent()}}},o=a,c=(i("b60b"),i("2877")),r=Object(c["a"])(o,s,n,!1,null,null,null);e["default"]=r.exports},b60b:function(t,e,i){"use strict";i("385a")}}]);
//# sourceMappingURL=chunk-2cc7c606.ee1dd8e5.js.map