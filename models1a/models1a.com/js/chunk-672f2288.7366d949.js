(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-672f2288"],{"0fe8":function(s,a,t){},9679:function(s,a,t){"use strict";t("0fe8")},a8c7:function(s,a,t){"use strict";t.r(a);var e=function(){var s=this,a=s._self._c;return a("section",{staticClass:"update-pass-section section"},[s.isUrlValid&&s.validView?a("div",{staticClass:"update-pass-container"},[a("h1",[s._v("Models 1A")]),a("h2",{staticClass:"update-pass-title"},[s._v("Modificar contraseña")]),a("form",{staticClass:"update-pass-form"},[a("img",{staticClass:"update-pass-img",attrs:{src:"/img/icons/apple-touch-icon-60x60.png",alt:"icon"}}),a("h3",{staticClass:"update-pass-subtitle"},[s._v(s._s(s.userName))]),a("h3",{staticClass:"update-pass-subtitle email"},[s._v(s._s(s.userEmail))]),a("div",{ref:"block",staticClass:"update-pass-block-input"},[a("label",{ref:"label",staticClass:"update-pass-label",attrs:{for:"userPassword"}},[s._v(s._s(s.msg))]),a("input",{directives:[{name:"model",rawName:"v-model",value:s.userPassword,expression:"userPassword"}],staticClass:"update-pass-userPassword",attrs:{type:"password",name:"userPassword",required:""},domProps:{value:s.userPassword},on:{keyup:s.validatePass,input:function(a){a.target.composing||(s.userPassword=a.target.value)}}})]),a("div",{staticClass:"update-pass-block-input"},[a("label",{staticClass:"update-pass-label",attrs:{for:"passwordRepeat"}},[s._v("Repetir Contraseña")]),a("input",{directives:[{name:"model",rawName:"v-model",value:s.passwordRepeat,expression:"passwordRepeat"}],staticClass:"update-pass-userPassword",attrs:{type:"password",name:"passwordRepeat",required:""},domProps:{value:s.passwordRepeat},on:{keyup:s.validatePass,input:function(a){a.target.composing||(s.passwordRepeat=a.target.value)}}})]),a("input",{ref:"submit",staticClass:"update-pass-submit",attrs:{type:"button",value:"Cambiar contraseña",disabled:""},on:{click:s.onSubmit}})])]):a("div",{staticClass:"update-pass-container"},[a("img",{staticClass:"update-pass-img",attrs:{src:"/img/icons/apple-touch-icon-60x60.png",alt:"icon"}}),a("h2",{staticClass:"update-pass-title"},[s._v("Link no válido")])])])},i=[],r=t("3d20"),o=t.n(r),u=t("365c"),n={name:"updatePass",data:function(){return{isUrlValid:!1,userName:"pruebaNombre",userEmail:"prueba01@onegroup.com",msg:"Contraseña",userPassword:"",passwordRepeat:"",validView:!1,code:""}},methods:{validatePass:function(){this.$refs.label.classList.add("msg"),this.$refs.submit.setAttribute("disabled",""),this.userPassword===this.passwordRepeat&&this.userPassword.length>=4?(this.msg="Contraseña",this.$refs.label.classList.remove("msg"),this.$refs.submit.removeAttribute("disabled")):this.userPassword.length<4?this.msg="Contraseña corta":this.userPassword!==this.passwordRepeat&&(this.msg="Contraseñas diferentes")},onSubmit:async function(){this._dataSending();const s="https://models1a.com/api/v1/user/update_pass",a={userEmail:this.userEmail,userPassword:this.userPassword,verifyCode:this.code};try{const t=await u["a"].post(s,a);o.a.close(),t.data.success?o.a.fire({title:"Modificación correcta",text:"Contraseña modificada exitosamente.",icon:"success",confirmButtonText:"Ir a login"}).then(async s=>await this.$router.replace("/login")):this._dataError(t.data.message)}catch(t){console.log(t)}},_dataSending:function(){return o.a.fire({title:"Cambiando contraseña",text:"Sus datos están siendo validados",timerProgressBar:!0,allowOutsideClick:!1,didOpen:()=>{o.a.showLoading()}})},_dataError:function(s){o.a.fire({title:"Error",html:s,icon:"error",confirmButtonText:"Ok",timerProgressBar:!0,confirmButtonColor:"#bd0909"})}},async beforeMount(){this.code=localStorage.getItem("statepass");const s=this.$route.fullPath,a="https://models1a.com/api/v1/",t="/"===a.slice(-1)?"user"+s:"/user"+s,e=`https://models1a.com/api/v1/${t}&code=${this.code}`,i=await u["a"].get(e);this.validView=i.data.state},beforeDestroy(){localStorage.removeItem("statepass")},created:function(){this.$route.query.email&&this.$route.query.name&&(this.userEmail=this.$route.query.email,this.userName=this.$route.query.name,this.isUrlValid=!0)}},d=n,l=(t("9679"),t("2877")),c=Object(l["a"])(d,e,i,!1,null,null,null);a["default"]=c.exports}}]);
//# sourceMappingURL=chunk-672f2288.7366d949.js.map