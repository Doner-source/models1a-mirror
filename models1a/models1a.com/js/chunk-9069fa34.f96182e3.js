(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-9069fa34"],{4888:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e._self._c;return t("section",{staticClass:"sidebarRecord"},[e.recordId?t("div",{staticClass:"sidebarRecord__screen",on:{click:e.closeSidebar}}):e._e(),t("div",{class:`sidebarRecord__wrapper sidebarRecord__wrapper--${e.recordId?"open":"close"} sidebarRecord__wrapper--${e.mainFeature}`},[t("div",{staticClass:"sidebarRecord__header"},[t("div",{staticClass:"sidebarRecord__contentArrows"},[t("iconic",{class:"sidebarRecord__icon sidebarRecord__icon--prev sidebarRecord__icon--"+(e.showPrev?"":"hidde"),attrs:{name:"arrow_right"},nativeOn:{click:function(t){return e.changeRecord(-1)}}}),t("iconic",{class:"sidebarRecord__icon sidebarRecord__icon--next sidebarRecord__icon--"+(e.showNext?"":"hidde"),attrs:{name:"arrow_right"},nativeOn:{click:function(t){return e.changeRecord(1)}}})],1),t("div",{staticClass:"sidebarRecord__contentActions"},[t("iconic",{staticClass:"sidebarRecord__icon sidebarRecord__icon--history",attrs:{name:"history"}}),t("iconic",{staticClass:"sidebarRecord__icon",attrs:{name:"close"},nativeOn:{click:function(t){return e.closeSidebar.apply(null,arguments)}}})],1)]),t("div",{staticClass:"sidebarRecord__item"},[t("FeatureButtons",{attrs:{record:e.record}}),t("ActionButtons",{attrs:{onCancel:()=>{},onSuccess:()=>{}}})],1),t("div",{staticClass:"sidebarRecord__contentData"},[t("div",{staticClass:"sidebarRecord__item"},[t("p",{staticClass:"sidebarRecord__recordName"},[e._v(e._s(e.record.name))]),e.record.city?t("span",{staticClass:"sidebarRecord__recordCity"},[e._v(e._s(e.record.city))]):e._e()]),t("span",{staticClass:"sidebarRecord__registerDate"},[e._v(e._s(e.formatDate(e.record.date)))]),t("div",{staticClass:"sidebarRecord__itemRow"},[t("span",{staticClass:"sidebarRecord__detail"},[t("iconic",{attrs:{name:"cake"}}),t("span",[e._v(e._s(e.birthDay))])],1),t("span",{staticClass:"sidebarRecord__detail"},[e._v(e._s(e.age+" años"))]),t("span",{staticClass:"sidebarRecord__detail"},[e._v(e._s(e.hasExperience(e.record.hasWebcam)))])]),e.contactData.length?[e._l(e.contactData,(function(r){return t("div",{key:r.icon,staticClass:"sidebarRecord__itemRow relative",on:{click:function(e){return r.func(r.value,r.icon)}}},[t("iconic",{staticClass:"sidebarRecord__icon sidebarRecord__icon--contact",attrs:{name:r.icon}}),t("span",[e._v(e._s(r.value))]),e.keyCopied===r.icon?t("span",{staticClass:"sidebarRecord__tootip"},[e._v("Copiado")]):e._e()],1)})),t("div",{staticClass:"sidebarRecord__contactContent"},[t("iconic",{staticClass:"sidebarRecord__icon sidebarRecord__icon--contact",attrs:{name:"user_contact"}}),t("div",[t("span",[e._v("Contactar por")]),e._l(e.contactModes,(function(r,a){return t("span",{key:r.value,class:["sidebarRecord__itemContact",r.mark&&"sidebarRecord__itemContact--mark"]},[e._v(" "+e._s(r.value)+" ")])}))],2)],1)]:e._e(),t("div",{staticClass:"sidebarRecord__contactContent"},[t("iconic",{staticClass:"sidebarRecord__icon sidebarRecord__icon--contact",attrs:{name:"clock"}}),e._l(e.timeAvailability,(function(r,a){return t("span",{key:r,class:["sidebarRecord__itemContact"]},[e._v(e._s(r))])}))],2)],2),t("ModelMessage",{attrs:{message:e.record.youMessage}}),t("div",{key:e.resetMedia,staticClass:"sidebarRecord__contentMedia"},e._l(e.record.photos,(function(r,a){return t("div",{key:r.name,staticClass:"sidebarRecord__contentImg"},[t("iconic",{staticClass:"sidebarRecord__icon sidebarRecord__icon--trash",attrs:{name:"trash"}}),t("img",{staticClass:"sidebarRecord__img",attrs:{src:r.link,alt:r.name},on:{click:function(t){return e.showMediaInModal(a)}}})],1)})),0),t("div",{staticClass:"sidebarRecord__contactContent"},[t("iconic",{staticClass:"sidebarRecord__icon sidebarRecord__icon--contact",attrs:{name:"plus"}}),t("span",[e._v("Agregar fotos")])],1),t("CommentsRecord",{attrs:{comments:e.record.comments,recordId:e.record._id}})],1)])},s=[],o={components:{ActionButtons:()=>r.e("chunk-6c28158e").then(r.bind(null,"f47e")),FeatureButtons:()=>r.e("chunk-e90963a4").then(r.bind(null,"3535")),ModelMessage:()=>r.e("chunk-1b146624").then(r.bind(null,"0f5a")),CommentsRecord:()=>r.e("chunk-34a9c9d3").then(r.bind(null,"b5fb"))},data(){return{dicModes:{phone:{name:"teléfono",icon:"phone",func:this.copyTextToClipboard},whatsapp:{name:"whatsapp",icon:"whatsapp",func:this.openWhatsapp},email:{name:"correo",icon:"card_email",func:this.copyTextToClipboard}},resetMedia:1,keyCopied:"",timeOutCopied:null}},computed:{recordId(){return this.$store.state.records.recordDetailId},records(){return this.$store.state.records.recordsInFilter},recordIdx(){const e=this.recordId,t=e?this.records.findIndex(({_id:t})=>e===t.toString()):-1;return t},record(){return-1!==this.recordIdx?this.records[this.recordIdx]:{}},hasMore(){return this.$store.state.records.hasMore},showPrev(){return-1!==this.recordIdx&&this.recordIdx>0},showNext(){return-1!==this.recordIdx&&this.recordIdx<this.records.length-1},queryString(){const{query:e,params:t}=this.$route;let r=`status=${(null===t||void 0===t?void 0:t.status)||""}&`;return Object.entries(e).forEach(([e,t])=>r+=`${e}=${t}&`),r},mainFeature(){var e;return this.age&&this.age<18?"younger":this.record.isSelected?"selected":(null===(e=this.features.find(({selected:e})=>e))||void 0===e?void 0:e.key)||""},features(){const e={priority:{name:"Prioridad",value:"high"},satelite:{name:"Satélite",value:"satelite"},gender:{name:"Masculino",value:"male"}};return Object.entries(e).map(([e,{name:t,value:r}])=>({key:e,name:t,value:r,selected:this.record[e]===r}))},age(){const e=this.record.birthDayDate;if(!e)return"";const t=new Date(e);if(isNaN(t))return"Sin edad";const r=new Date,a=r-t,s=new Date(a),o=Math.abs(s.getUTCFullYear()-1970);return o},birthDay(){const e=this.record.birthDayDate;return e?new Date(e).toLocaleString("es-CO",{dateStyle:"long"}):""},contactData(){const e=this.dicModes;return Object.entries(e).map(([e,t])=>{var r;const a="whatsapp"===e?"phone":e;return null!==(r=this.record)&&void 0!==r&&r[a]?{...t,value:`${"phone"===a&&this.record.inputPostalCode?`+${this.record.inputPostalCode} `:""}${this.record[a]}`}:null}).filter(Boolean)},contactModes(){var e,t;const r=((null===(e=this.record)||void 0===e?void 0:e.contactMode)||[]).includes("all")?["phone","whatsapp","email"]:(null===(t=this.record)||void 0===t?void 0:t.contactMode)||[];return r.flatMap((e,t)=>[{value:this.hasMarks(this.dicModes[e].name,t,r.length),mark:!0},{value:t===r.length-1?"":t===r.length-2?" o ":" ",mark:!1}])},timeAvailability(){var e;const t=(null===(e=this.record)||void 0===e?void 0:e.timeAvailability)||[],r={morning:"Mañana",late:"Tarde",night:"Noche",open:"Todos"},a=t.findIndex(e=>"open"===e);return-1!==a?["Todos los horarios."]:t.map((e,t)=>`${0!==t?" - ":""} ${r[e]}`)}},methods:{closeSidebar(){this.$store.state.records.recordDetailId=null},formatDate(e){return e?new Date(e).toLocaleString("es-CO",{dateStyle:"long",timeStyle:"short"}):""},hasExperience(e){return(e&&"yes"===e?"Con":"Sin")+" experiencia"},hasMarks(e,t,r){const a=r-1;return e+(t===a?".":t!==a-1?",":"")},showMediaInModal(e){this.$store.state.records.imagesToShow={images:this.record.photos,initialSlide:e,recordId:this.record._id}},async changeRecord(e){const t=-1!==this.recordIdx&&this.records.length?this.recordIdx+e:-1;if(-1===t)return;const r=(this.records.length>2?this.records.length-2<=t:this.records.length-1<=t)&&this.hasMore;if(r&&await this.$store.dispatch("records/getMoreRecords",this.queryString),this.records.length<=t)return;const a=this.records[t]._id;this.$store.state.records.recordDetailId=a,this.resetMedia++},copyTextToClipboard(e,t){if(e)if(navigator.clipboard)navigator.clipboard.writeText(e).then(()=>{console.log("Texto copiado al portapapeles.")}).catch(e=>{console.error("Error al copiar al portapapeles:",e)});else{const a=document.createElement("textarea");a.value=e,document.body.appendChild(a),a.select();try{document.execCommand("copy"),console.log("Texto copiado al portapapeles."),this.keyCopied=t,clearTimeout(this.timeOutCopied),this.timeOutCopied=setTimeout(()=>{this.keyCopied=""},1e3)}catch(r){console.error("Error al copiar al portapapeles:",r)}finally{document.body.removeChild(a)}}},openWhatsapp(e){if(!e)return;const t=e.replace(/[+ ]/g,"").replace(/^0+/,""),r="https://wa.me/"+t;window.open(r,"_blank")}}},i=o,c=(r("d4b2"),r("2877")),n=Object(c["a"])(i,a,s,!1,null,null,null);t["default"]=n.exports},c1b5:function(e,t,r){},d4b2:function(e,t,r){"use strict";r("c1b5")}}]);
//# sourceMappingURL=chunk-9069fa34.f96182e3.js.map